(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{731:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OBJLoader}));var _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(718),OBJLoader=function(){var object_pattern=/^[og]\s*(.+)?/,material_library_pattern=/^mtllib /,material_use_pattern=/^usemtl /;function ParserState(){var state={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(name,fromDeclaration){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=name,void(this.object.fromDeclaration=!1!==fromDeclaration);var previousMaterial=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:name||"",fromDeclaration:!1!==fromDeclaration,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(name,libraries){var previous=this._finalize(!1);previous&&(previous.inherited||previous.groupCount<=0)&&this.materials.splice(previous.index,1);var material={index:this.materials.length,name:name||"",mtllib:Array.isArray(libraries)&&libraries.length>0?libraries[libraries.length-1]:"",smooth:void 0!==previous?previous.smooth:this.smooth,groupStart:void 0!==previous?previous.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(index){var cloned={index:"number"==typeof index?index:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return cloned.clone=this.clone.bind(cloned),cloned}};return this.materials.push(material),material},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(end){var lastMultiMaterial=this.currentMaterial();if(lastMultiMaterial&&-1===lastMultiMaterial.groupEnd&&(lastMultiMaterial.groupEnd=this.geometry.vertices.length/3,lastMultiMaterial.groupCount=lastMultiMaterial.groupEnd-lastMultiMaterial.groupStart,lastMultiMaterial.inherited=!1),end&&this.materials.length>1)for(var mi=this.materials.length-1;mi>=0;mi--)this.materials[mi].groupCount<=0&&this.materials.splice(mi,1);return end&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),lastMultiMaterial}},previousMaterial&&previousMaterial.name&&"function"==typeof previousMaterial.clone){var declared=previousMaterial.clone(0);declared.inherited=!0,this.object.materials.push(declared)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(value,len){var index=parseInt(value,10);return 3*(index>=0?index-1:index+len/3)},parseNormalIndex:function(value,len){var index=parseInt(value,10);return 3*(index>=0?index-1:index+len/3)},parseUVIndex:function(value,len){var index=parseInt(value,10);return 2*(index>=0?index-1:index+len/2)},addVertex:function(a,b,c){var src=this.vertices,dst=this.object.geometry.vertices;dst.push(src[a+0],src[a+1],src[a+2]),dst.push(src[b+0],src[b+1],src[b+2]),dst.push(src[c+0],src[c+1],src[c+2])},addVertexPoint:function(a){var src=this.vertices;this.object.geometry.vertices.push(src[a+0],src[a+1],src[a+2])},addVertexLine:function(a){var src=this.vertices;this.object.geometry.vertices.push(src[a+0],src[a+1],src[a+2])},addNormal:function(a,b,c){var src=this.normals,dst=this.object.geometry.normals;dst.push(src[a+0],src[a+1],src[a+2]),dst.push(src[b+0],src[b+1],src[b+2]),dst.push(src[c+0],src[c+1],src[c+2])},addColor:function(a,b,c){var src=this.colors,dst=this.object.geometry.colors;dst.push(src[a+0],src[a+1],src[a+2]),dst.push(src[b+0],src[b+1],src[b+2]),dst.push(src[c+0],src[c+1],src[c+2])},addUV:function(a,b,c){var src=this.uvs,dst=this.object.geometry.uvs;dst.push(src[a+0],src[a+1]),dst.push(src[b+0],src[b+1]),dst.push(src[c+0],src[c+1])},addUVLine:function(a){var src=this.uvs;this.object.geometry.uvs.push(src[a+0],src[a+1])},addFace:function(a,b,c,ua,ub,uc,na,nb,nc){var vLen=this.vertices.length,ia=this.parseVertexIndex(a,vLen),ib=this.parseVertexIndex(b,vLen),ic=this.parseVertexIndex(c,vLen);if(this.addVertex(ia,ib,ic),this.colors.length>0&&this.addColor(ia,ib,ic),void 0!==ua&&""!==ua){var uvLen=this.uvs.length;ia=this.parseUVIndex(ua,uvLen),ib=this.parseUVIndex(ub,uvLen),ic=this.parseUVIndex(uc,uvLen),this.addUV(ia,ib,ic)}if(void 0!==na&&""!==na){var nLen=this.normals.length;ia=this.parseNormalIndex(na,nLen),ib=na===nb?ia:this.parseNormalIndex(nb,nLen),ic=na===nc?ia:this.parseNormalIndex(nc,nLen),this.addNormal(ia,ib,ic)}},addPointGeometry:function(vertices){this.object.geometry.type="Points";for(var vLen=this.vertices.length,vi=0,l=vertices.length;vi<l;vi++)this.addVertexPoint(this.parseVertexIndex(vertices[vi],vLen))},addLineGeometry:function(vertices,uvs){this.object.geometry.type="Line";for(var vLen=this.vertices.length,uvLen=this.uvs.length,vi=0,l=vertices.length;vi<l;vi++)this.addVertexLine(this.parseVertexIndex(vertices[vi],vLen));var uvi=0;for(l=uvs.length;uvi<l;uvi++)this.addUVLine(this.parseUVIndex(uvs[uvi],uvLen))}};return state.startObject("",!1),state}function OBJLoader(manager){_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Loader.call(this,manager),this.materials=null}return OBJLoader.prototype=Object.assign(Object.create(_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Loader.prototype),{constructor:OBJLoader,load:function(url,onLoad,onProgress,onError){var scope=this,loader=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.FileLoader(scope.manager);loader.setPath(this.path),loader.load(url,(function(text){onLoad(scope.parse(text))}),onProgress,onError)},setMaterials:function(materials){return this.materials=materials,this},parse:function(text){console.time("OBJLoader");var state=new ParserState;-1!==text.indexOf("\r\n")&&(text=text.replace(/\r\n/g,"\n")),-1!==text.indexOf("\\\n")&&(text=text.replace(/\\\n/g,""));for(var lines=text.split("\n"),line="",lineFirstChar="",result=[],trimLeft="function"==typeof"".trimLeft,i=0,l=lines.length;i<l;i++)if(line=lines[i],0!==(line=trimLeft?line.trimLeft():line.trim()).length&&"#"!==(lineFirstChar=line.charAt(0)))if("v"===lineFirstChar){var data=line.split(/\s+/);switch(data[0]){case"v":state.vertices.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3])),data.length>=7&&state.colors.push(parseFloat(data[4]),parseFloat(data[5]),parseFloat(data[6]));break;case"vn":state.normals.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3]));break;case"vt":state.uvs.push(parseFloat(data[1]),parseFloat(data[2]))}}else if("f"===lineFirstChar){for(var vertexData=line.substr(1).trim().split(/\s+/),faceVertices=[],j=0,jl=vertexData.length;j<jl;j++){var vertex=vertexData[j];if(vertex.length>0){var vertexParts=vertex.split("/");faceVertices.push(vertexParts)}}var v1=faceVertices[0];for(j=1,jl=faceVertices.length-1;j<jl;j++){var v2=faceVertices[j],v3=faceVertices[j+1];state.addFace(v1[0],v2[0],v3[0],v1[1],v2[1],v3[1],v1[2],v2[2],v3[2])}}else if("l"===lineFirstChar){var lineParts=line.substring(1).trim().split(" "),lineVertices=[],lineUVs=[];if(-1===line.indexOf("/"))lineVertices=lineParts;else for(var li=0,llen=lineParts.length;li<llen;li++){var parts=lineParts[li].split("/");""!==parts[0]&&lineVertices.push(parts[0]),""!==parts[1]&&lineUVs.push(parts[1])}state.addLineGeometry(lineVertices,lineUVs)}else if("p"===lineFirstChar){var pointData=line.substr(1).trim().split(" ");state.addPointGeometry(pointData)}else if(null!==(result=object_pattern.exec(line))){var name=(" "+result[0].substr(1).trim()).substr(1);state.startObject(name)}else if(material_use_pattern.test(line))state.object.startMaterial(line.substring(7).trim(),state.materialLibraries);else if(material_library_pattern.test(line))state.materialLibraries.push(line.substring(7).trim());else{if("s"!==lineFirstChar){if("\0"===line)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+line+'"')}if((result=line.split(" ")).length>1){var value=result[1].trim().toLowerCase();state.object.smooth="0"!==value&&"off"!==value}else state.object.smooth=!0;(material=state.object.currentMaterial())&&(material.smooth=state.object.smooth)}state.finalize();var container=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Group;container.materialLibraries=[].concat(state.materialLibraries);for(i=0,l=state.objects.length;i<l;i++){var object=state.objects[i],geometry=object.geometry,materials=object.materials,isLine="Line"===geometry.type,isPoints="Points"===geometry.type,hasVertexColors=!1;if(0!==geometry.vertices.length){var buffergeometry=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry;buffergeometry.setAttribute("position",new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(geometry.vertices,3)),geometry.normals.length>0?buffergeometry.setAttribute("normal",new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(geometry.normals,3)):buffergeometry.computeVertexNormals(),geometry.colors.length>0&&(hasVertexColors=!0,buffergeometry.setAttribute("color",new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(geometry.colors,3))),geometry.uvs.length>0&&buffergeometry.setAttribute("uv",new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Float32BufferAttribute(geometry.uvs,2));for(var mesh,createdMaterials=[],mi=0,miLen=materials.length;mi<miLen;mi++){var sourceMaterial=materials[mi],material=void 0;if(null!==this.materials)if(material=this.materials.create(sourceMaterial.name),!isLine||!material||material instanceof _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial){if(isPoints&&material&&!(material instanceof _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.PointsMaterial)){var materialPoints=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.PointsMaterial({size:10,sizeAttenuation:!1});_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Material.prototype.copy.call(materialPoints,material),materialPoints.color.copy(material.color),materialPoints.map=material.map,material=materialPoints}}else{var materialLine=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial;_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Material.prototype.copy.call(materialLine,material),materialLine.color.copy(material.color),material=materialLine}material||((material=isLine?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial:isPoints?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.PointsMaterial({size:1,sizeAttenuation:!1}):new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial).name=sourceMaterial.name),material.flatShading=!sourceMaterial.smooth,material.vertexColors=hasVertexColors?_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.VertexColors:_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.NoColors,createdMaterials.push(material)}if(createdMaterials.length>1){for(mi=0,miLen=materials.length;mi<miLen;mi++){sourceMaterial=materials[mi];buffergeometry.addGroup(sourceMaterial.groupStart,sourceMaterial.groupCount,mi)}mesh=isLine?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineSegments(buffergeometry,createdMaterials):isPoints?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Points(buffergeometry,createdMaterials):new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh(buffergeometry,createdMaterials)}else mesh=isLine?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineSegments(buffergeometry,createdMaterials[0]):isPoints?new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Points(buffergeometry,createdMaterials[0]):new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh(buffergeometry,createdMaterials[0]);mesh.name=object.name,container.add(mesh)}}return console.timeEnd("OBJLoader"),container}}),OBJLoader}()},734:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MTLLoader}));var _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(718),MTLLoader=function(manager){_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Loader.call(this,manager)};MTLLoader.prototype=Object.assign(Object.create(_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Loader.prototype),{constructor:MTLLoader,load:function(url,onLoad,onProgress,onError){var scope=this,path=""===this.path?_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LoaderUtils.extractUrlBase(url):this.path,loader=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.FileLoader(this.manager);loader.setPath(this.path),loader.load(url,(function(text){onLoad(scope.parse(text,path))}),onProgress,onError)},setMaterialOptions:function(value){return this.materialOptions=value,this},parse:function(text,path){for(var lines=text.split("\n"),info={},delimiter_pattern=/\s+/,materialsInfo={},i=0;i<lines.length;i++){var line=lines[i];if(0!==(line=line.trim()).length&&"#"!==line.charAt(0)){var pos=line.indexOf(" "),key=pos>=0?line.substring(0,pos):line;key=key.toLowerCase();var value=pos>=0?line.substring(pos+1):"";if(value=value.trim(),"newmtl"===key)info={name:value},materialsInfo[value]=info;else if("ka"===key||"kd"===key||"ks"===key||"ke"===key){var ss=value.split(delimiter_pattern,3);info[key]=[parseFloat(ss[0]),parseFloat(ss[1]),parseFloat(ss[2])]}else info[key]=value}}var materialCreator=new MTLLoader.MaterialCreator(this.resourcePath||path,this.materialOptions);return materialCreator.setCrossOrigin(this.crossOrigin),materialCreator.setManager(this.manager),materialCreator.setMaterials(materialsInfo),materialCreator}}),MTLLoader.MaterialCreator=function(baseUrl,options){this.baseUrl=baseUrl||"",this.options=options,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.RepeatWrapping},MTLLoader.MaterialCreator.prototype={constructor:MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(value){return this.crossOrigin=value,this},setManager:function(value){this.manager=value},setMaterials:function(materialsInfo){this.materialsInfo=this.convert(materialsInfo),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(materialsInfo){if(!this.options)return materialsInfo;var converted={};for(var mn in materialsInfo){var mat=materialsInfo[mn],covmat={};for(var prop in converted[mn]=covmat,mat){var save=!0,value=mat[prop],lprop=prop.toLowerCase();switch(lprop){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(value=[value[0]/255,value[1]/255,value[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===value[0]&&0===value[1]&&0===value[2]&&(save=!1)}save&&(covmat[lprop]=value)}}return converted},preload:function(){for(var mn in this.materialsInfo)this.create(mn)},getIndex:function(materialName){return this.nameLookup[materialName]},getAsArray:function(){var index=0;for(var mn in this.materialsInfo)this.materialsArray[index]=this.create(mn),this.nameLookup[mn]=index,index++;return this.materialsArray},create:function(materialName){return void 0===this.materials[materialName]&&this.createMaterial_(materialName),this.materials[materialName]},createMaterial_:function(materialName){var scope=this,mat=this.materialsInfo[materialName],params={name:materialName,side:this.side};function setMapForType(mapType,value){if(!params[mapType]){var texParams=scope.getTextureParams(value,params),map=scope.loadTexture(function resolveURL(baseUrl,url){return"string"!=typeof url||""===url?"":/^https?:\/\//i.test(url)?url:baseUrl+url}(scope.baseUrl,texParams.url));map.repeat.copy(texParams.scale),map.offset.copy(texParams.offset),map.wrapS=scope.wrap,map.wrapT=scope.wrap,params[mapType]=map}}for(var prop in mat){var n,value=mat[prop];if(""!==value)switch(prop.toLowerCase()){case"kd":params.color=(new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color).fromArray(value);break;case"ks":params.specular=(new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color).fromArray(value);break;case"ke":params.emissive=(new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color).fromArray(value);break;case"map_kd":setMapForType("map",value);break;case"map_ks":setMapForType("specularMap",value);break;case"map_ke":setMapForType("emissiveMap",value);break;case"norm":setMapForType("normalMap",value);break;case"map_bump":case"bump":setMapForType("bumpMap",value);break;case"map_d":setMapForType("alphaMap",value),params.transparent=!0;break;case"ns":params.shininess=parseFloat(value);break;case"d":(n=parseFloat(value))<1&&(params.opacity=n,params.transparent=!0);break;case"tr":n=parseFloat(value),this.options&&this.options.invertTrProperty&&(n=1-n),n>0&&(params.opacity=1-n,params.transparent=!0)}}return this.materials[materialName]=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial(params),this.materials[materialName]},getTextureParams:function(value,matParams){var pos,texParams={scale:new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(1,1),offset:new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(0,0)},items=value.split(/\s+/);return(pos=items.indexOf("-bm"))>=0&&(matParams.bumpScale=parseFloat(items[pos+1]),items.splice(pos,2)),(pos=items.indexOf("-s"))>=0&&(texParams.scale.set(parseFloat(items[pos+1]),parseFloat(items[pos+2])),items.splice(pos,4)),(pos=items.indexOf("-o"))>=0&&(texParams.offset.set(parseFloat(items[pos+1]),parseFloat(items[pos+2])),items.splice(pos,4)),texParams.url=items.join(" ").trim(),texParams},loadTexture:function(url,mapping,onLoad,onProgress,onError){var texture,manager=void 0!==this.manager?this.manager:_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.DefaultLoadingManager,loader=manager.getHandler(url);return null===loader&&(loader=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.TextureLoader(manager)),loader.setCrossOrigin&&loader.setCrossOrigin(this.crossOrigin),texture=loader.load(url,onLoad,onProgress,onError),void 0!==mapping&&(texture.mapping=mapping),texture}}},771:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FirstPersonControls}));var _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(718),FirstPersonControls=function(object,domElement){void 0===domElement&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),domElement=document),this.object=object,this.domElement=domElement,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;var targetPosition,lat=0,lon=0,lookDirection=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3,spherical=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Spherical,target=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3;function contextmenu(event){event.preventDefault()}this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(event){if(this.domElement!==document&&this.domElement.focus(),event.preventDefault(),event.stopPropagation(),this.activeLook)switch(event.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0},this.onMouseUp=function(event){if(event.preventDefault(),event.stopPropagation(),this.activeLook)switch(event.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1},this.onMouseMove=function(event){this.domElement===document?(this.mouseX=event.pageX-this.viewHalfX,this.mouseY=event.pageY-this.viewHalfY):(this.mouseX=event.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=event.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(event){switch(event.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this.moveUp=!0;break;case 70:this.moveDown=!0}},this.onKeyUp=function(event){switch(event.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this.moveUp=!1;break;case 70:this.moveDown=!1}},this.lookAt=function(x,y,z){return x.isVector3?target.copy(x):target.set(x,y,z),this.object.lookAt(target),setOrientation(this),this},this.update=(targetPosition=new _build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3,function update(delta){if(!1!==this.enabled){if(this.heightSpeed){var heightDelta=_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=delta*(heightDelta*this.heightCoef)}else this.autoSpeedFactor=0;var actualMoveSpeed=delta*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(actualMoveSpeed+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(actualMoveSpeed),this.moveLeft&&this.object.translateX(-actualMoveSpeed),this.moveRight&&this.object.translateX(actualMoveSpeed),this.moveUp&&this.object.translateY(actualMoveSpeed),this.moveDown&&this.object.translateY(-actualMoveSpeed);var actualLookSpeed=delta*this.lookSpeed;this.activeLook||(actualLookSpeed=0);var verticalLookRatio=1;this.constrainVertical&&(verticalLookRatio=Math.PI/(this.verticalMax-this.verticalMin)),lon-=this.mouseX*actualLookSpeed,this.lookVertical&&(lat-=this.mouseY*actualLookSpeed*verticalLookRatio),lat=Math.max(-85,Math.min(85,lat));var phi=_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.degToRad(90-lat),theta=_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.degToRad(lon);this.constrainVertical&&(phi=_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.mapLinear(phi,0,Math.PI,this.verticalMin,this.verticalMax));var position=this.object.position;targetPosition.setFromSphericalCoords(1,phi,theta).add(position),this.object.lookAt(targetPosition)}}),this.dispose=function(){this.domElement.removeEventListener("contextmenu",contextmenu,!1),this.domElement.removeEventListener("mousedown",_onMouseDown,!1),this.domElement.removeEventListener("mousemove",_onMouseMove,!1),this.domElement.removeEventListener("mouseup",_onMouseUp,!1),window.removeEventListener("keydown",_onKeyDown,!1),window.removeEventListener("keyup",_onKeyUp,!1)};var _onMouseMove=bind(this,this.onMouseMove),_onMouseDown=bind(this,this.onMouseDown),_onMouseUp=bind(this,this.onMouseUp),_onKeyDown=bind(this,this.onKeyDown),_onKeyUp=bind(this,this.onKeyUp);function bind(scope,fn){return function(){fn.apply(scope,arguments)}}function setOrientation(controls){var quaternion=controls.object.quaternion;lookDirection.set(0,0,-1).applyQuaternion(quaternion),spherical.setFromVector3(lookDirection),lat=90-_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.radToDeg(spherical.phi),lon=_build_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Math.radToDeg(spherical.theta)}this.domElement.addEventListener("contextmenu",contextmenu,!1),this.domElement.addEventListener("mousemove",_onMouseMove,!1),this.domElement.addEventListener("mousedown",_onMouseDown,!1),this.domElement.addEventListener("mouseup",_onMouseUp,!1),window.addEventListener("keydown",_onKeyDown,!1),window.addEventListener("keyup",_onKeyUp,!1),this.handleResize(),setOrientation(this)}}}]);
//# sourceMappingURL=60.65c5b6ed6f5a0a577471.bundle.js.map