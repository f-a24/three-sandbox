(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{690:function(module,exports,__webpack_require__){var f;module.exports=((f=function(){function e(a){return c.appendChild(a.dom),a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",(function(a){a.preventDefault(),u(++l%c.children.length)}),!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));return u(0),{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();if(h.update(c-k,200),c>g+1e3&&(r.update(1e3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}}).Panel=function(e,f,l){var c=1/0,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r,q.height=h,q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");return b.font="bold "+9*a+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=l,b.fillRect(0,0,r,h),b.fillStyle=f,b.fillText(e,t,v),b.fillRect(d,m,n,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d,m,n,p),{dom:q,update:function(h,w){c=Math.min(c,h),k=Math.max(k,h),b.fillStyle=l,b.globalAlpha=1,b.fillRect(0,0,r,m),b.fillStyle=f,b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v),b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p),b.fillRect(d+n-a,m,a,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}},f)},730:function(module,__webpack_exports__,__webpack_require__){"use strict";var three_module=__webpack_require__(691),mod={},l=void 0,aa=mod;
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */function inflate_module_min_r(c,d){var e,a=c.split("."),b=aa;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(;a.length&&(e=a.shift());)a.length||d===l?b=b[e]?b[e]:b[e]={}:b[e]=d}var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function v(c){var e,f,g,h,k,m,n,p,s,x,d=c.length,a=0,b=Number.POSITIVE_INFINITY;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);for(e=1<<a,f=new(t?Uint32Array:Array)(e),g=1,h=0,k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){for(m=0,n=h,s=0;s<g;++s)m=m<<1|1&n,n>>=1;for(x=g<<16|p,s=m;s<e;s+=k)f[s]=x;++h}++g,h<<=1,k<<=1}return[f,a,b]}function w(c,d){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=t?new Uint8Array(c):c,this.m=!1,this.i=inflate_module_min_y,this.r=!1,!d&&(d={})||(d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize)),this.i){case A:this.b=32768,this.c=new(t?Uint8Array:Array)(32768+this.h+258);break;case inflate_module_min_y:this.b=0,this.c=new(t?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var A=0,inflate_module_min_y=1,B={t:A,s:inflate_module_min_y};w.prototype.k=function(){for(;!this.m;){var c=C(this,3);switch(1&c&&(this.m=!0),c>>>=1){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=l,k=b.length,m=l;if(this.d=this.f=0,a+1>=f)throw Error("invalid uncompressed block header: LEN");if(g=d[a++]|d[a++]<<8,a+1>=f)throw Error("invalid uncompressed block header: NLEN");if(g===~(d[a++]|d[a++]<<8))throw Error("invalid uncompressed block header: length verify");if(a+g>d.length)throw Error("input buffer is broken");switch(this.i){case A:for(;e+g>b.length;){if(g-=m=k-e,t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e,b=this.e(),e=this.b}break;case inflate_module_min_y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a,this.b=e,this.c=b;break;case 1:this.j(ba,ca);break;case 2:var S,T,U,V,n=C(this,5)+257,p=C(this,5)+1,s=C(this,4)+4,x=new(t?Uint8Array:Array)(D.length),u=l,M=l,F=l,z=l,q=l;for(q=0;q<s;++q)x[D[q]]=C(this,3);if(!t)for(q=s,s=x.length;q<s;++q)x[D[q]]=0;for(S=v(x),u=new(t?Uint8Array:Array)(n+p),q=0,V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=v(t?u.subarray(0,n):u.slice(0,n)),U=v(t?u.subarray(n):u.slice(n)),this.j(T,U);break;default:throw Error("unknown BTYPE: "+c)}}return this.n()};var P,fa,G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=t?new Uint8Array(ea):ea,O=new(t?Uint8Array:Array)(288);for(P=0,fa=O.length;P<fa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var R,ga,ba=v(O),Q=new(t?Uint8Array:Array)(30);for(R=0,ga=Q.length;R<ga;++R)Q[R]=5;var ca=v(Q);function C(c,d){for(var h,a=c.f,b=c.d,e=c.input,f=c.a,g=e.length;b<d;){if(f>=g)throw Error("input buffer is broken");a|=e[f++]<<b,b+=8}return h=a&(1<<d)-1,c.f=a>>>d,c.d=b-d,c.a=f,h}function E(c,d){for(var m,n,a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1];b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;if((n=(m=h[a&(1<<k)-1])>>>16)>b)throw Error("invalid code length: "+n);return c.f=a>>n,c.d=b-n,c.a=f,65535&m}function W(c,d){var a,b;switch(this.input=c,this.a=0,!d&&(d={})||(d.index&&(this.a=d.index),d.verify&&(this.A=d.verify)),a=c[this.a++],b=c[this.a++],15&a){case ha:this.method=ha;break;default:throw Error("unsupported compression method")}if(0!=((a<<8)+b)%31)throw Error("invalid fcheck flag:"+((a<<8)+b)%31);if(32&b)throw Error("fdict flag is not supported");this.q=new w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}w.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var f,g,h,k,e=a.length-258;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else for(k=I[g=f-257],0<K[g]&&(k+=C(this,K[g])),f=E(this,d),h=da[f],0<N[f]&&(h+=C(this,N[f])),b>=e&&(this.b=b,a=this.e(),b=this.b);k--;)a[b]=a[b++-h];for(;8<=this.d;)this.d-=8,this.a--;this.b=b},w.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var f,g,h,k,e=a.length;256!==(f=E(this,c));)if(256>f)b>=e&&(e=(a=this.e()).length),a[b++]=f;else for(k=I[g=f-257],0<K[g]&&(k+=C(this,K[g])),f=E(this,d),h=da[f],0<N[f]&&(h+=C(this,N[f])),b+k>e&&(e=(a=this.e()).length);k--;)a[b]=a[b++-h];for(;8<=this.d;)this.d-=8,this.a--;this.b=b},w.prototype.e=function(){var a,b,c=new(t?Uint8Array:Array)(this.b-32768),d=this.b-32768,e=this.c;if(t)c.set(e.subarray(32768,c.length));else for(a=0,b=c.length;a<b;++a)c[a]=e[a+32768];if(this.g.push(c),this.l+=c.length,t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];return this.b=32768,e},w.prototype.z=function(c){var d,e,f,a=this.input.length/this.a+1|0,g=this.input,h=this.c;return c&&("number"==typeof c.p&&(a=c.p),"number"==typeof c.u&&(a+=c.u)),2>a?e=(f=(g.length-this.a)/this.o[2]/2*258|0)<h.length?h.length+f:h.length<<1:e=h.length*a,t?(d=new Uint8Array(e)).set(h):d=h,this.c=d},w.prototype.n=function(){var b,f,g,h,k,c=0,d=this.c,a=this.g,e=new(t?Uint8Array:Array)(this.l+(this.b-32768));if(0===a.length)return t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(f=0,g=a.length;f<g;++f)for(h=0,k=(b=a[f]).length;h<k;++h)e[c++]=b[h];for(f=32768,g=this.b;f<g;++f)e[c++]=d[f];return this.g=[],this.buffer=e},w.prototype.v=function(){var c,d=this.b;return t?this.r?(c=new Uint8Array(d)).set(this.c.subarray(0,d)):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c),this.buffer=c},W.prototype.k=function(){var d,a,c=this.input;if(d=this.q.k(),this.a=this.q.a,this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if("string"==typeof b){var f,g,e=b.split("");for(f=0,g=e.length;f<g;f++)e[f]=(255&e[f].charCodeAt(0))>>>0;b=e}for(var n,h=1,k=0,m=b.length,p=0;0<m;){m-=n=1024<m?1024:m;do{k+=h+=b[p++]}while(--n);h%=65521,k%=65521}if(a!==(k<<16|h)>>>0)throw Error("invalid adler-32 checksum")}return d};var ha=8;inflate_module_min_r("Zlib.Inflate",W),inflate_module_min_r("Zlib.Inflate.prototype.decompress",W.prototype.k);var Y,Z,$,ia,X={ADAPTIVE:B.s,BLOCK:B.t};if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;for($=0,ia=Y.length;$<ia;++$)inflate_module_min_r("Zlib.Inflate.BufferType."+(Z=Y[$]),X[Z]);var Zlib=mod.Zlib;__webpack_require__.d(__webpack_exports__,"a",(function(){return VTKLoader}));var VTKLoader=function(manager){this.manager=void 0!==manager?manager:three_module.DefaultLoadingManager};Object.assign(VTKLoader.prototype,three_module.EventDispatcher.prototype,{load:function(url,onLoad,onProgress,onError){var scope=this,loader=new three_module.FileLoader(scope.manager);loader.setPath(scope.path),loader.setResponseType("arraybuffer"),loader.load(url,(function(text){onLoad(scope.parse(text))}),onProgress,onError)},setPath:function(value){return this.path=value,this},parse:function(data){function Int32Concat(first,second){var firstLength=first.length,result=new Int32Array(firstLength+second.length);return result.set(first),result.set(second,firstLength),result}function getStringFile(data){for(var stringFile="",charArray=new Uint8Array(data),i=0,len=charArray.length;len--;)stringFile+=String.fromCharCode(charArray[i++]);return stringFile}var meta=three_module.LoaderUtils.decodeText(new Uint8Array(data,0,250)).split("\n");return-1!==meta[0].indexOf("xml")?function parseXML(stringFile){function Base64toByteArray(b64){var i,j,l,tmp,placeHolders,arr,Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,lookup=[],revLookup=[],code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",len=code.length;for(i=0;i<len;i++)lookup[i]=code[i];for(i=0;i<len;++i)revLookup[code.charCodeAt(i)]=i;if(revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63,(len=b64.length)%4>0)throw new Error("Invalid string. Length must be a multiple of 4");arr=new Arr(3*len/4-(placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0)),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=(16711680&tmp)>>16,arr[L++]=(65280&tmp)>>8,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function parseDataArray(ele,compressed){var first,second,firstLength,result,numBytes=0;if("UInt64"===json.attributes.header_type?numBytes=8:"UInt32"===json.attributes.header_type&&(numBytes=4),"binary"===ele.attributes.format&&compressed){var byteData,blocks,cSizeStart,headerSize,dataOffsets,currentOffset;if("Float32"===ele.attributes.type)var txt=new Float32Array;else if("Int64"===ele.attributes.type)txt=new Int32Array;blocks=(byteData=Base64toByteArray(ele["#text"]))[0];for(var i=1;i<numBytes-1;i++)blocks|=byteData[i]<<i*numBytes;headerSize=(blocks+3)*numBytes,currentOffset=headerSize+=headerSize%3>0?3-headerSize%3:0,(dataOffsets=[]).push(currentOffset),cSizeStart=3*numBytes;for(i=0;i<blocks;i++){for(var currentBlockSize=byteData[i*numBytes+cSizeStart],j=1;j<numBytes-1;j++)currentBlockSize|=byteData[i*numBytes+cSizeStart+j]<<8*j;currentOffset+=currentBlockSize,dataOffsets.push(currentOffset)}for(i=0;i<dataOffsets.length-1;i++){content=(content=new Zlib.Inflate(byteData.slice(dataOffsets[i],dataOffsets[i+1]),{resize:!0,verify:!0}).decompress()).buffer,"Float32"===ele.attributes.type?(content=new Float32Array(content),second=content,firstLength=void 0,result=void 0,firstLength=(first=txt).length,(result=new Float32Array(firstLength+second.length)).set(first),result.set(second,firstLength),txt=result):"Int64"===ele.attributes.type&&(txt=Int32Concat(txt,content=new Int32Array(content)))}delete ele["#text"],"Int64"===ele.attributes.type&&"binary"===ele.attributes.format&&(txt=txt.filter((function(el,idx){if(idx%2!=1)return!0})))}else{if("binary"!==ele.attributes.format||compressed)if(ele["#text"])var content=ele["#text"].split(/\s+/).filter((function(el){if(""!==el)return el}));else content=new Int32Array(0).buffer;else content=(content=Base64toByteArray(ele["#text"])).slice(numBytes).buffer;if(delete ele["#text"],"Float32"===ele.attributes.type)txt=new Float32Array(content);else if("Int32"===ele.attributes.type)txt=new Int32Array(content);else if("Int64"===ele.attributes.type){txt=new Int32Array(content);"binary"===ele.attributes.format&&(txt=txt.filter((function(el,idx){if(idx%2!=1)return!0})))}}return txt}var dom=null;if(window.DOMParser)try{dom=(new DOMParser).parseFromString(stringFile,"text/xml")}catch(e){dom=null}else{if(!window.ActiveXObject)throw new Error("Cannot parse xml string!");try{if((dom=new ActiveXObject("Microsoft.XMLDOM")).async=!1,!dom.loadXML())throw new Error(dom.parseError.reason+dom.parseError.srcText)}catch(e){dom=null}}var json=function xmlToJson(xml){var obj={};if(1===xml.nodeType){if(xml.attributes&&xml.attributes.length>0){obj.attributes={};for(var j=0;j<xml.attributes.length;j++){var attribute=xml.attributes.item(j);obj.attributes[attribute.nodeName]=attribute.nodeValue.trim()}}}else 3===xml.nodeType&&(obj=xml.nodeValue.trim());if(xml.hasChildNodes())for(var i=0;i<xml.childNodes.length;i++){var item=xml.childNodes.item(i),nodeName=item.nodeName;if(void 0===obj[nodeName]){""!==(tmp=xmlToJson(item))&&(obj[nodeName]=tmp)}else{if(void 0===obj[nodeName].push){var old=obj[nodeName];obj[nodeName]=[old]}var tmp;""!==(tmp=xmlToJson(item))&&obj[nodeName].push(tmp)}}return obj}(dom.documentElement),points=[],normals=[],indices=[];if(json.PolyData){for(var piece=json.PolyData.Piece,compressed=json.attributes.hasOwnProperty("compressor"),sections=["PointData","Points","Strips","Polys"],sectionIndex=0,numberOfSections=sections.length;sectionIndex<numberOfSections;){var section=piece[sections[sectionIndex]];if(section&&section.DataArray){if("[object Array]"===Object.prototype.toString.call(section.DataArray))var arr=section.DataArray;else arr=[section.DataArray];for(var dataArrayIndex=0,numberOfDataArrays=arr.length;dataArrayIndex<numberOfDataArrays;)"#text"in arr[dataArrayIndex]&&arr[dataArrayIndex]["#text"].length>0&&(arr[dataArrayIndex].text=parseDataArray(arr[dataArrayIndex],compressed)),dataArrayIndex++;switch(sections[sectionIndex]){case"PointData":var numberOfPoints=parseInt(piece.attributes.NumberOfPoints),normalsName=section.attributes.Normals;if(numberOfPoints>0)for(var i=0,len=arr.length;i<len;i++)if(normalsName===arr[i].attributes.Name){var components=arr[i].attributes.NumberOfComponents;(normals=new Float32Array(numberOfPoints*components)).set(arr[i].text,0)}break;case"Points":if((numberOfPoints=parseInt(piece.attributes.NumberOfPoints))>0){components=section.DataArray.attributes.NumberOfComponents;(points=new Float32Array(numberOfPoints*components)).set(section.DataArray.text,0)}break;case"Strips":var numberOfStrips=parseInt(piece.attributes.NumberOfStrips);if(numberOfStrips>0){var connectivity=new Int32Array(section.DataArray[0].text.length),offset=new Int32Array(section.DataArray[1].text.length);connectivity.set(section.DataArray[0].text,0),offset.set(section.DataArray[1].text,0);var size=numberOfStrips+connectivity.length;indices=new Uint32Array(3*size-9*numberOfStrips);var indicesIndex=0;for(i=0,len=numberOfStrips;i<len;i++){for(var strip=[],s=0,len1=offset[i],len0=0;s<len1-len0;s++)strip.push(connectivity[s]),i>0&&(len0=offset[i-1]);var j=0;for(len1=offset[i],len0=0;j<len1-len0-2;j++)j%2?(indices[indicesIndex++]=strip[j],indices[indicesIndex++]=strip[j+2],indices[indicesIndex++]=strip[j+1]):(indices[indicesIndex++]=strip[j],indices[indicesIndex++]=strip[j+1],indices[indicesIndex++]=strip[j+2]),i>0&&(len0=offset[i-1])}}break;case"Polys":var numberOfPolys=parseInt(piece.attributes.NumberOfPolys);if(numberOfPolys>0){connectivity=new Int32Array(section.DataArray[0].text.length),offset=new Int32Array(section.DataArray[1].text.length);connectivity.set(section.DataArray[0].text,0),offset.set(section.DataArray[1].text,0);size=numberOfPolys+connectivity.length;indices=new Uint32Array(3*size-9*numberOfPolys);indicesIndex=0;var connectivityIndex=0;for(i=0,len=numberOfPolys,len0=0;i<len;){var poly=[];for(s=0,len1=offset[i];s<len1-len0;)poly.push(connectivity[connectivityIndex++]),s++;for(j=1;j<len1-len0-1;)indices[indicesIndex++]=poly[0],indices[indicesIndex++]=poly[j],indices[indicesIndex++]=poly[j+1],j++;len0=offset[++i-1]}}}}sectionIndex++}var geometry=new three_module.BufferGeometry;return geometry.setIndex(new three_module.BufferAttribute(indices,1)),geometry.addAttribute("position",new three_module.BufferAttribute(points,3)),normals.length===points.length&&geometry.addAttribute("normal",new three_module.BufferAttribute(normals,3)),geometry}throw new Error("Unsupported DATASET type")}(getStringFile(data)):meta[2].includes("ASCII")?function parseASCII(data){var result,indices=[],positions=[],colors=[],normals=[],pat3Floats=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,patConnectivity=/^(\d+)\s+([\s\d]*)/,patPOINTS=/^POINTS /,patPOLYGONS=/^POLYGONS /,patTRIANGLE_STRIPS=/^TRIANGLE_STRIPS /,patPOINT_DATA=/^POINT_DATA[ ]+(\d+)/,patCELL_DATA=/^CELL_DATA[ ]+(\d+)/,patCOLOR_SCALARS=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,patNORMALS=/^NORMALS[ ]+(\w+)[ ]+(\w+)/,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1,inPointDataSection=!1,inCellDataSection=!1,inColorSection=!1,inNormalsSection=!1,lines=data.split("\n");for(var i in lines){var line=lines[i];if(0===line.indexOf("DATASET")){var dataset=line.split(" ")[1];if("POLYDATA"!==dataset)throw new Error("Unsupported DATASET type: "+dataset)}else if(inPointsSection)for(;null!==(result=pat3Floats.exec(line));){var x=parseFloat(result[1]),y=parseFloat(result[2]),z=parseFloat(result[3]);positions.push(x,y,z)}else if(inPolygonsSection){if(null!==(result=patConnectivity.exec(line))){var numVertices=parseInt(result[1]),inds=result[2].split(/\s+/);if(numVertices>=3)for(var i0=parseInt(inds[0]),k=1,j=0;j<numVertices-2;++j)i1=parseInt(inds[k]),i2=parseInt(inds[k+1]),indices.push(i0,i1,i2),k++}}else if(inTriangleStripSection){if(null!==(result=patConnectivity.exec(line))){numVertices=parseInt(result[1]),inds=result[2].split(/\s+/);if(numVertices>=3){var i1,i2;for(j=0;j<numVertices-2;j++)j%2==1?(i0=parseInt(inds[j]),i1=parseInt(inds[j+2]),i2=parseInt(inds[j+1]),indices.push(i0,i1,i2)):(i0=parseInt(inds[j]),i1=parseInt(inds[j+1]),i2=parseInt(inds[j+2]),indices.push(i0,i1,i2))}}}else if(inPointDataSection||inCellDataSection)if(inColorSection)for(;null!==(result=pat3Floats.exec(line));){var r=parseFloat(result[1]),g=parseFloat(result[2]),b=parseFloat(result[3]);colors.push(r,g,b)}else if(inNormalsSection)for(;null!==(result=pat3Floats.exec(line));){var nx=parseFloat(result[1]),ny=parseFloat(result[2]),nz=parseFloat(result[3]);normals.push(nx,ny,nz)}null!==patPOLYGONS.exec(line)?(inPolygonsSection=!0,inPointsSection=!1,inTriangleStripSection=!1):null!==patPOINTS.exec(line)?(inPolygonsSection=!1,inPointsSection=!0,inTriangleStripSection=!1):null!==patTRIANGLE_STRIPS.exec(line)?(inPolygonsSection=!1,inPointsSection=!1,inTriangleStripSection=!0):null!==patPOINT_DATA.exec(line)?(inPointDataSection=!0,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1):null!==patCELL_DATA.exec(line)?(inCellDataSection=!0,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1):null!==patCOLOR_SCALARS.exec(line)?(inColorSection=!0,inNormalsSection=!1,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1):null!==patNORMALS.exec(line)&&(inNormalsSection=!0,inColorSection=!1,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1)}var geometry=new three_module.BufferGeometry;if(geometry.setIndex(indices),geometry.addAttribute("position",new three_module.Float32BufferAttribute(positions,3)),normals.length===positions.length&&geometry.addAttribute("normal",new three_module.Float32BufferAttribute(normals,3)),colors.length!==indices.length)colors.length===positions.length&&geometry.addAttribute("color",new three_module.Float32BufferAttribute(colors,3));else{var numTriangles=(geometry=geometry.toNonIndexed()).attributes.position.count/3;if(colors.length===3*numTriangles){var newColors=[];for(i=0;i<numTriangles;i++){r=colors[3*i+0],g=colors[3*i+1],b=colors[3*i+2];newColors.push(r,g,b),newColors.push(r,g,b),newColors.push(r,g,b)}geometry.addAttribute("color",new three_module.Float32BufferAttribute(newColors,3))}}return geometry}(getStringFile(data)):function parseBinary(data){var count,pointIndex,i,numberOfPoints,s,state,line,buffer=new Uint8Array(data),dataView=new DataView(data),points=[],normals=[],indices=[],vtk=[],index=0;function findString(buffer,start){for(var index=start,c=buffer[index],s=[];10!==c;)s.push(String.fromCharCode(c)),c=buffer[++index];return{start:start,end:index,next:index+1,parsedString:s.join("")}}for(;;){if(0===(line=(state=findString(buffer,index)).parsedString).indexOf("DATASET")){var dataset=line.split(" ")[1];if("POLYDATA"!==dataset)throw new Error("Unsupported DATASET type: "+dataset)}else if(0===line.indexOf("POINTS")){for(vtk.push(line),count=4*(numberOfPoints=parseInt(line.split(" ")[1],10))*3,points=new Float32Array(3*numberOfPoints),pointIndex=state.next,i=0;i<numberOfPoints;i++)points[3*i]=dataView.getFloat32(pointIndex,!1),points[3*i+1]=dataView.getFloat32(pointIndex+4,!1),points[3*i+2]=dataView.getFloat32(pointIndex+8,!1),pointIndex+=12;state.next=state.next+count+1}else if(0===line.indexOf("TRIANGLE_STRIPS")){var numberOfStrips=parseInt(line.split(" ")[1],10);count=4*(size=parseInt(line.split(" ")[2],10)),indices=new Uint32Array(3*size-9*numberOfStrips);var indicesIndex=0;for(pointIndex=state.next,i=0;i<numberOfStrips;i++){var indexCount=dataView.getInt32(pointIndex,!1),strip=[];for(pointIndex+=4,s=0;s<indexCount;s++)strip.push(dataView.getInt32(pointIndex,!1)),pointIndex+=4;for(var j=0;j<indexCount-2;j++)j%2?(indices[indicesIndex++]=strip[j],indices[indicesIndex++]=strip[j+2],indices[indicesIndex++]=strip[j+1]):(indices[indicesIndex++]=strip[j],indices[indicesIndex++]=strip[j+1],indices[indicesIndex++]=strip[j+2])}state.next=state.next+count+1}else if(0===line.indexOf("POLYGONS")){var size;numberOfStrips=parseInt(line.split(" ")[1],10);count=4*(size=parseInt(line.split(" ")[2],10)),indices=new Uint32Array(3*size-9*numberOfStrips);indicesIndex=0;for(pointIndex=state.next,i=0;i<numberOfStrips;i++){indexCount=dataView.getInt32(pointIndex,!1),strip=[];for(pointIndex+=4,s=0;s<indexCount;s++)strip.push(dataView.getInt32(pointIndex,!1)),pointIndex+=4;for(j=1;j<indexCount-1;j++)indices[indicesIndex++]=strip[0],indices[indicesIndex++]=strip[j],indices[indicesIndex++]=strip[j+1]}state.next=state.next+count+1}else if(0===line.indexOf("POINT_DATA")){for(numberOfPoints=parseInt(line.split(" ")[1],10),state=findString(buffer,state.next),count=4*numberOfPoints*3,normals=new Float32Array(3*numberOfPoints),pointIndex=state.next,i=0;i<numberOfPoints;i++)normals[3*i]=dataView.getFloat32(pointIndex,!1),normals[3*i+1]=dataView.getFloat32(pointIndex+4,!1),normals[3*i+2]=dataView.getFloat32(pointIndex+8,!1),pointIndex+=12;state.next=state.next+count}if((index=state.next)>=buffer.byteLength)break}var geometry=new three_module.BufferGeometry;return geometry.setIndex(new three_module.BufferAttribute(indices,1)),geometry.addAttribute("position",new three_module.BufferAttribute(points,3)),normals.length===points.length&&geometry.addAttribute("normal",new three_module.BufferAttribute(normals,3)),geometry}(data)}})}}]);
//# sourceMappingURL=48.3cc1079fb8472c44bc5a.bundle.js.map